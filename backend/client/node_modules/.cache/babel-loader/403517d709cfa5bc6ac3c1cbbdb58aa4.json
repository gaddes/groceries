{"ast":null,"code":"var _jsxFileName = \"/Users/matthewgaddes/projects_local/groceries/backend/client/src/Home.js\";\nimport React, { Component } from 'react';\nimport './home.scss';\n\nfunction InputBox(props) {\n  return React.createElement(\"div\", {\n    className: \"flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"item-input\",\n    type: \"text\",\n    placeholder: \"eggs, chicken, pickles...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"item-add\",\n    onClick: props.onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \"Add\"));\n}\n\nfunction SearchBox(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"search-input\",\n    type: \"text\",\n    onKeyUp: props.onKeyUp,\n    placeholder: \"search...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: props.onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"Clear\")));\n}\n\nfunction ListItems(props) {\n  const currentSearch = props.currentSearch;\n  let items; // Create new array containing only items that include search text\n\n  const filteredItems = props.items.filter(item => {\n    if (item.indexOf(currentSearch) === -1) {\n      // eslint-disable-next-line\n      return;\n    }\n\n    return item;\n  }); // Loop through filtered items, add each one to array as <li>\n\n  if (props.shoppingListIsBeingEdited) {\n    items = filteredItems.map((item, index) => React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, item, React.createElement(\"button\", {\n      key: index,\n      onClick: () => props.onClick(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Delete\")));\n  } else {\n    items = filteredItems.map((item, index) => React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, item));\n  }\n\n  return React.createElement(\"ul\", {\n    className: \"list-items\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, items);\n}\n\nclass ShoppingList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchItem = () => {\n      // Set currentSearch in state as the value of the search input box\n      const searchInput = document.querySelector('.search-input').value;\n      this.setState({\n        currentSearch: searchInput\n      }); // TODO: Filter list to show items containing this string\n    };\n\n    this.clearSearch = () => {\n      // Clear state\n      this.setState({\n        currentSearch: ''\n      }); // Clear input box\n\n      document.querySelector(\".search-input\").value = '';\n    };\n\n    this.addItem = () => {\n      // Select input box\n      const inputField = document.querySelector(\".item-input\");\n      const inputContent = inputField.value; // Check not empty\n\n      if (inputContent !== '') {\n        // Update state by concatenating previous state with an array containing only the new item\n        this.setState(previousState => ({\n          items: previousState.items.concat([inputContent])\n        })); // Clear input field\n\n        inputField.value = '';\n      }\n    };\n\n    this.deleteItem = index => {\n      // Update state by filtering previousState so it no longer includes the item corresponding to the clicked delete button\n      this.setState(previousState => ({\n        items: previousState.items.filter((item, key) => key !== index)\n      }));\n    };\n\n    this.editList = () => {\n      if (this.state.shoppingListIsBeingEdited === false) {\n        this.setState({\n          shoppingListIsBeingEdited: true\n        });\n        this.setState({\n          editButtonText: 'Done'\n        });\n      } else {\n        this.setState({\n          shoppingListIsBeingEdited: false\n        });\n        this.setState({\n          editButtonText: 'Edit'\n        });\n      }\n    };\n\n    this.state = {\n      shoppingListIsBeingEdited: false,\n      editButtonText: 'Edit',\n      // NOTE: this list is for testing only - items will be added by using the 'add' function in production\n      items: [],\n      currentSearch: ''\n    };\n  }\n\n  componentDidMount() {\n    // Grab items from backend and place them in state\n    fetch('/').then(res => res.json()).then(items => this.setState({\n      items\n    }));\n    console.group('componentDidMount');\n    console.log(this.state);\n    console.groupEnd('componentDidMount');\n  }\n\n  componentDidUpdate() {\n    console.group('componentDidUpdate');\n    console.log(this.state);\n    console.groupEnd('componentDidUpdate');\n  }\n  /**\n   * This function performs a live search on the shopping list\n   */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"shopping-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(SearchBox, {\n      currentSearch: this.state.currentSearch,\n      onKeyUp: e => this.searchItem(),\n      onClick: () => this.clearSearch(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"flex-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Shopping list\"), React.createElement(\"button\", {\n      className: \"item-edit\",\n      onClick: () => this.editList(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.state.editButtonText)), React.createElement(InputBox, {\n      onClick: () => this.addItem(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(ListItems, {\n      items: this.state.items,\n      shoppingListIsBeingEdited: this.state.shoppingListIsBeingEdited,\n      onClick: index => this.deleteItem(index),\n      currentSearch: this.state.currentSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction Home() {\n  return React.createElement(\"div\", {\n    className: \"home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(ShoppingList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/matthewgaddes/projects_local/groceries/backend/client/src/Home.js"],"names":["React","Component","InputBox","props","onClick","SearchBox","onKeyUp","ListItems","currentSearch","items","filteredItems","filter","item","indexOf","shoppingListIsBeingEdited","map","index","ShoppingList","constructor","searchItem","searchInput","document","querySelector","value","setState","clearSearch","addItem","inputField","inputContent","previousState","concat","deleteItem","key","editList","state","editButtonText","componentDidMount","fetch","then","res","json","console","group","log","groupEnd","componentDidUpdate","render","e","Home"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,aAAP;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,SACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAA8B,IAAA,IAAI,EAAC,MAAnC;AAA0C,IAAA,WAAW,EAAC,2BAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,OAAO,EAAEA,KAAK,CAACC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CADF;AAMD;;AAED,SAASC,SAAT,CAAmBF,KAAnB,EAA0B;AACxB,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAgC,IAAA,IAAI,EAAC,MAArC;AAA4C,IAAA,OAAO,EAAEA,KAAK,CAACG,OAA3D;AAAoE,IAAA,WAAW,EAAC,WAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAQ,IAAA,OAAO,EAAEH,KAAK,CAACC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CADF,CADF;AAQD;;AAED,SAASG,SAAT,CAAmBJ,KAAnB,EAA0B;AACxB,QAAMK,aAAa,GAAGL,KAAK,CAACK,aAA5B;AACA,MAAIC,KAAJ,CAFwB,CAIxB;;AACA,QAAMC,aAAa,GAAGP,KAAK,CAACM,KAAN,CAAYE,MAAZ,CAAmBC,IAAI,IAAI;AAC/C,QAAIA,IAAI,CAACC,OAAL,CAAaL,aAAb,MAAgC,CAAC,CAArC,EAAwC;AACtC;AACA;AACD;;AACD,WAAOI,IAAP;AACD,GANqB,CAAtB,CALwB,CAaxB;;AACA,MAAIT,KAAK,CAACW,yBAAV,EAAqC;AACnCL,IAAAA,KAAK,GAAGC,aAAa,CAACK,GAAd,CAAkB,CAACH,IAAD,EAAOI,KAAP,KACxB;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBJ,IAAjB,EAAsB;AAAQ,MAAA,GAAG,EAAEI,KAAb;AAAoB,MAAA,OAAO,EAAE,MAAMb,KAAK,CAACC,OAAN,CAAcY,KAAd,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAtB,CADM,CAAR;AAGD,GAJD,MAIO;AACLP,IAAAA,KAAK,GAAGC,aAAa,CAACK,GAAd,CAAkB,CAACH,IAAD,EAAOI,KAAP,KACxB;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiBJ,IAAjB,CADM,CAAR;AAGD;;AAED,SACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KADH,CADF;AAKD;;AAED,MAAMQ,YAAN,SAA2BhB,SAA3B,CAAqC;AACnCiB,EAAAA,WAAW,CAACf,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA+BnBgB,UA/BmB,GA+BN,MAAM;AACjB;AACA,YAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,KAA5D;AACA,WAAKC,QAAL,CAAc;AAAChB,QAAAA,aAAa,EAAEY;AAAhB,OAAd,EAHiB,CAKjB;AACD,KArCkB;;AAAA,SA0CnBK,WA1CmB,GA0CL,MAAM;AAClB;AACA,WAAKD,QAAL,CAAc;AAAEhB,QAAAA,aAAa,EAAE;AAAjB,OAAd,EAFkB,CAGlB;;AACAa,MAAAA,QAAQ,CAACC,aAAT,kBAAwCC,KAAxC,GAAgD,EAAhD;AACD,KA/CkB;;AAAA,SAoDnBG,OApDmB,GAoDT,MAAM;AACd;AACA,YAAMC,UAAU,GAAGN,QAAQ,CAACC,aAAT,eAAnB;AACA,YAAMM,YAAY,GAAGD,UAAU,CAACJ,KAAhC,CAHc,CAKd;;AACA,UAAIK,YAAY,KAAK,EAArB,EAAyB;AACvB;AACA,aAAKJ,QAAL,CAAcK,aAAa,KAAK;AAAEpB,UAAAA,KAAK,EAAEoB,aAAa,CAACpB,KAAd,CAAoBqB,MAApB,CAA2B,CAACF,YAAD,CAA3B;AAAT,SAAL,CAA3B,EAFuB,CAGvB;;AACAD,QAAAA,UAAU,CAACJ,KAAX,GAAmB,EAAnB;AACD;AACF,KAhEkB;;AAAA,SAuEnBQ,UAvEmB,GAuELf,KAAD,IAAW;AACtB;AACA,WAAKQ,QAAL,CAAcK,aAAa,KAAK;AAAEpB,QAAAA,KAAK,EAAEoB,aAAa,CAACpB,KAAd,CAAoBE,MAApB,CAA2B,CAACC,IAAD,EAAOoB,GAAP,KAAeA,GAAG,KAAKhB,KAAlD;AAAT,OAAL,CAA3B;AACD,KA1EkB;;AAAA,SAgFnBiB,QAhFmB,GAgFR,MAAM;AACf,UAAI,KAAKC,KAAL,CAAWpB,yBAAX,KAAyC,KAA7C,EAAoD;AAClD,aAAKU,QAAL,CAAc;AAAEV,UAAAA,yBAAyB,EAAE;AAA7B,SAAd;AACA,aAAKU,QAAL,CAAc;AAAEW,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD,OAHD,MAGO;AACL,aAAKX,QAAL,CAAc;AAAEV,UAAAA,yBAAyB,EAAE;AAA7B,SAAd;AACA,aAAKU,QAAL,CAAc;AAAEW,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD;AACF,KAxFkB;;AAEjB,SAAKD,KAAL,GAAa;AACXpB,MAAAA,yBAAyB,EAAE,KADhB;AAEXqB,MAAAA,cAAc,EAAE,MAFL;AAGX;AACA1B,MAAAA,KAAK,EAAE,EAJI;AAKXD,MAAAA,aAAa,EAAE;AALJ,KAAb;AAOD;;AAED4B,EAAAA,iBAAiB,GAAG;AAClB;AACAC,IAAAA,KAAK,CAAC,GAAD,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQ7B,KAAK,IAAI,KAAKe,QAAL,CAAc;AAAEf,MAAAA;AAAF,KAAd,CAFjB;AAIAgC,IAAAA,OAAO,CAACC,KAAR,CAAc,mBAAd;AACED,IAAAA,OAAO,CAACE,GAAR,CAAY,KAAKT,KAAjB;AACFO,IAAAA,OAAO,CAACG,QAAR,CAAiB,mBAAjB;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnBJ,IAAAA,OAAO,CAACC,KAAR,CAAc,oBAAd;AACED,IAAAA,OAAO,CAACE,GAAR,CAAY,KAAKT,KAAjB;AACFO,IAAAA,OAAO,CAACG,QAAR,CAAiB,oBAAjB;AACD;AAED;;;;;AA8DAE,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,SAAD;AACE,MAAA,aAAa,EAAE,KAAKZ,KAAL,CAAW1B,aAD5B;AAEE,MAAA,OAAO,EAAGuC,CAAD,IAAO,KAAK5B,UAAL,EAFlB;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKM,WAAL,EAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAOE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKQ,QAAL,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAKC,KAAL,CAAWC,cAJd,CAFF,CAPF,EAgBE,oBAAC,QAAD;AACE,MAAA,OAAO,EAAE,MAAM,KAAKT,OAAL,EADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,EAmBE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWzB,KADpB;AAEE,MAAA,yBAAyB,EAAE,KAAKyB,KAAL,CAAWpB,yBAFxC;AAGE,MAAA,OAAO,EAAGE,KAAD,IAAW,KAAKe,UAAL,CAAgBf,KAAhB,CAHtB;AAIE,MAAA,aAAa,EAAE,KAAKkB,KAAL,CAAW1B,aAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,CADF;AA4BD;;AAxHkC;;AA2HrC,SAASwC,IAAT,GAAgB;AACd,SACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,eAAeA,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport './home.scss';\n\nfunction InputBox(props) {\n  return (\n    <div className='flex-row'>\n      <input className='item-input' type='text' placeholder='eggs, chicken, pickles...'></input>\n      <button className='item-add' onClick={props.onClick}>Add</button>\n    </div>\n  );\n}\n\nfunction SearchBox(props) {\n  return (\n    <div>\n      <div className='flex-row'>\n        <input className='search-input' type='text' onKeyUp={props.onKeyUp} placeholder='search...'></input>\n        <button onClick={props.onClick}>Clear</button>\n      </div>\n    </div>\n  );\n}\n\nfunction ListItems(props) {\n  const currentSearch = props.currentSearch;\n  let items;\n\n  // Create new array containing only items that include search text\n  const filteredItems = props.items.filter(item => {\n    if (item.indexOf(currentSearch) === -1) {\n      // eslint-disable-next-line\n      return;\n    }\n    return item;\n  });\n\n  // Loop through filtered items, add each one to array as <li>\n  if (props.shoppingListIsBeingEdited) {\n    items = filteredItems.map((item, index) =>\n      <li key={index}>{item}<button key={index} onClick={() => props.onClick(index)}>Delete</button></li>\n    );\n  } else {\n    items = filteredItems.map((item, index) =>\n      <li key={index}>{item}</li>\n    );\n  }\n\n  return (\n    <ul className=\"list-items\">\n      {items}\n    </ul>\n  );\n}\n\nclass ShoppingList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shoppingListIsBeingEdited: false,\n      editButtonText: 'Edit',\n      // NOTE: this list is for testing only - items will be added by using the 'add' function in production\n      items: [],\n      currentSearch: ''\n    }\n  }\n\n  componentDidMount() {\n    // Grab items from backend and place them in state\n    fetch('/')\n      .then(res => res.json())\n      .then(items => this.setState({ items }));\n\n    console.group('componentDidMount');\n      console.log(this.state);\n    console.groupEnd('componentDidMount');\n  }\n\n  componentDidUpdate() {\n    console.group('componentDidUpdate');\n      console.log(this.state);\n    console.groupEnd('componentDidUpdate');\n  }\n\n  /**\n   * This function performs a live search on the shopping list\n   */\n  searchItem = () => {\n    // Set currentSearch in state as the value of the search input box\n    const searchInput = document.querySelector('.search-input').value;\n    this.setState({currentSearch: searchInput});\n\n    // TODO: Filter list to show items containing this string\n  }\n\n  /**\n   * This function clears the search term from state and removes text from the input box\n   */\n  clearSearch = () => {\n    // Clear state\n    this.setState({ currentSearch: '' });\n    // Clear input box\n    document.querySelector(`.search-input`).value = '';\n  }\n\n  /**\n   * This function adds a new item to the list\n   */\n  addItem = () => {\n    // Select input box\n    const inputField = document.querySelector(`.item-input`);\n    const inputContent = inputField.value;\n\n    // Check not empty\n    if (inputContent !== '') {\n      // Update state by concatenating previous state with an array containing only the new item\n      this.setState(previousState => ({ items: previousState.items.concat([inputContent]) }));\n      // Clear input field\n      inputField.value = '';\n    }\n  }\n\n  /**\n   * This function deletes an item from the list\n   * \n   * @param {integer} index - index of item to be deleted\n   */\n  deleteItem = (index) => {\n    // Update state by filtering previousState so it no longer includes the item corresponding to the clicked delete button\n    this.setState(previousState => ({ items: previousState.items.filter((item, key) => key !== index) }));\n  }\n\n  /**\n   * This function sets the state of various attributes,\n   * depending on the state of the edit button\n   */\n  editList = () => {\n    if (this.state.shoppingListIsBeingEdited === false) {\n      this.setState({ shoppingListIsBeingEdited: true });\n      this.setState({ editButtonText: 'Done'});\n    } else {\n      this.setState({ shoppingListIsBeingEdited: false });\n      this.setState({ editButtonText: 'Edit'});\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"shopping-list\">\n        <br/>\n        <SearchBox\n          currentSearch={this.state.currentSearch}\n          onKeyUp={(e) => this.searchItem()}\n          onClick={() => this.clearSearch()}\n        />\n        <div className='flex-row'>\n          <h2>Shopping list</h2>\n          <button\n            className='item-edit'\n            onClick={() => this.editList()}\n          >\n            {this.state.editButtonText}\n          </button>\n        </div>\n        <InputBox\n          onClick={() => this.addItem()}\n        />\n        <ListItems\n          items={this.state.items}\n          shoppingListIsBeingEdited={this.state.shoppingListIsBeingEdited}\n          onClick={(index) => this.deleteItem(index)}\n          currentSearch={this.state.currentSearch}\n        />\n      </div>\n    );\n  }\n}\n\nfunction Home() {\n  return (\n    <div className='home'>\n      <ShoppingList />\n    </div>\n  );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}